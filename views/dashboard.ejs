<!DOCTYPE html>
<html>
<head>

    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular.min.js"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular-route.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/angular-ui-router/0.2.8/angular-ui-router.min.js"></script>
 <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.3.0/Chart.bundle.min.js"></script>
    <script src="angularjs/login.js"></script>


<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.3.0/Chart.bundle.min.js"></script>
<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
<link rel="stylesheet"
          href="bower_components/chartist/dist/chartist.min.css">
             <link rel="stylesheet" href="//cdn.jsdelivr.net/chartist.js/latest/chartist.min.css">
    <script src="//cdn.jsdelivr.net/chartist.js/latest/chartist.min.js"></script>


<style>
.nav-side-menu {
  overflow: auto;
  font-family: verdana;
  font-size: 18px;
  font-weight: 200;
 background: #2c3e50;
  position: fixed;
  top: 0px;
  width: 300px;
  height: 100%;
  color: #e1ffff;
}
.nav-side-menu .brand {
  background: #2c3e50;
  line-height: 50px;
  display: block;
  text-align: center;
  font-size: 14px;
}
.nav-side-menu .toggle-btn {
  display: none;
}
.nav-side-menu ul,
.nav-side-menu li {
  list-style: none;
  padding: 0px;
  margin: 0px;
  line-height: 35px;
  cursor: pointer;
}
.nav-side-menu ul :not(collapsed) .arrow:before,
.nav-side-menu li :not(collapsed) .arrow:before {
  font-family: FontAwesome;
  content: "\f078";
  display: inline-block;
  padding-left: 10px;
  padding-right: 10px;
  vertical-align: middle;
  float: right;
}
.nav-side-menu ul .active,
.nav-side-menu li .active {
  border-left: 3px solid #d19b3d;
 background: #2c3e50;
}
.nav-side-menu ul .sub-menu li.active,
.nav-side-menu li .sub-menu li.active {
  background: #2c3e50;
}
.nav-side-menu ul .sub-menu li.active a,
.nav-side-menu li .sub-menu li.active a {
  color: #d19b3d;
}
.nav-side-menu ul .sub-menu li,
.nav-side-menu li .sub-menu li {
  background-color: #181c20;
  border: none;
  line-height: 28px;
  border-bottom: 1px solid #23282e;
  margin-left: 0px;
}
.nav-side-menu ul .sub-menu li:hover,
.nav-side-menu li .sub-menu li:hover {
  background: #2c3e50;
}
.nav-side-menu ul .sub-menu li:before,
.nav-side-menu li .sub-menu li:before {
  font-family: FontAwesome;
  content: "\f105";
  display: inline-block;
  padding-left: 10px;
  padding-right: 10px;
  vertical-align: middle;
}
.nav-side-menu li {
  padding-left: 0px;
  border-left: 3px solid #2e353d;
  border-bottom: 1px solid #23282e;
}
.nav-side-menu li a {
  text-decoration: none;
  color: #e1ffff;
}
.nav-side-menu li a i {
  padding-left: 10px;
  width: 20px;
  padding-right: 20px;
}
.nav-side-menu li:hover {
  border-left: 3px solid #d19b3d;
  background-color: #4f5b69;
  -webkit-transition: all 1s ease;
  -moz-transition: all 1s ease;
  -o-transition: all 1s ease;
  -ms-transition: all 1s ease;
  transition: all 1s ease;
}
@media (max-width: 767px) {
  .nav-side-menu {
    position: relative;
    width: 100%;
    margin-bottom: 10px;
  }
  .nav-side-menu .toggle-btn {
    display: block;
    cursor: pointer;
    position: absolute;
    right: 10px;
    top: 10px;
    z-index: 10 !important;
    padding: 3px;
    background: #2c3e50;
    color: #000;
    width: 40px;
    text-align: center;
  }
  .brand {
    text-align: left !important;
    font-size: 22px;
    padding-left: 20px;
    line-height: 20px !important;
  }
}
@media (min-width: 767px) {
  .nav-side-menu .menu-list .menu-content {
    display: block;
  }
}
body {
  margin: 0px;
  padding: 0px;
}
.glyphicon {
    font-size: 25px;
}
</style>
    <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/angular_material/1.0.0/angular-material.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular-animate.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular-aria.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular-messages.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angular_material/1.0.0/angular-material.min.js"></script>

    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
</head>



<body ng-app="login" >

<div id="header"></div>
<script type="text/javascript" src="./js/header.js"></script>




<div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog">
    
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title" style="text-align:center;">Create Sensor</h4>
        </div>
<div class="modal-body">
          <form action="/createSensor" method="post">
<div class="form-group">
<div class="input-group">
            <span class="input-group-addon" id="sensor_name"><b>Sensor Name</b></span><input type="text" name="sensor_name" placeholder="Sensor Name" class="form-control" required> <br />
</div> <br />

            
<div class="input-group">
            <span class="input-group-addon" id="location"><b>Location</b></span>
             <input type="text" name="location" placeholder="Location" class="form-control" required> <br /></div><br />

             <div class="input-group">
            <span class="input-group-addon" id="location"><b>City</b></span>
             <input type="text" name="city" placeholder="City" class="form-control" required> <br /></div><br />

<div class="input-group">
            <span class="input-group-addon" id="active"><b>Active</b></span>
             <select name="active" class="form-control" required>
            <option value="Yes">Yes</option>
            <option value="No">No</option>
            </select> <br /></div><br />
<div class="input-group">
            <span class="input-group-addon" id="type"><b>Sensor Type</b></span>
             <input type="text" name="type" placeholder="Sensor Type" class="form-control" required> <br /> </div><br />
            <input type="submit" value="Create" class="btn btn-info center-block" style="background: #1abc9c; width:80px;">
        </div> </form>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
        </div>
      </div>

      
    </div>
  </div>

  <div class="modal fade" id="myModal1" role="dialog">
    <div class="modal-dialog">
 
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title" style="text-align:center;">Search</h4>
        </div>
        <div class="modal-body">
          <form action="/search" method="post">
          <div class="input-group">
            <span class="input-group-addon" id="search"> <i class="fa fa-search"></i></span>
          <input type="text" name="search" placeholder="Search" class="form-control" required> 
        </div>
        <br /> <br />
        <input type="submit" value="Search" class="btn btn-info center-block" style="background: #1abc9c; width:150px;">
      </form>
      </div>
      
    </div>
  </div>
  
</div>





<div class="row">
<div class="col-md-4 col-md-offset-3" >
  <div class="graph1 well" style="width:320px;height:320px;">
    <div class="col-md-12 "  style="margin-top: 15px">
<canvas id="myChart" width="200" height="200"></canvas>
<script>
var ctx = document.getElementById("myChart");
var myChart = new Chart(ctx, {
    type: 'doughnut',
    data: {
        labels: [<% for(i in records1){ %>
                                   "<%- records1[i].sensor_type %>",
                                <%  } %>],
        datasets: [{
            label: 'Types of Sensors',
            data: [<% for(i in records1){ %>
                                   "<%- records1[i].tot %>",
                                <%  } %>],
            backgroundColor: [
                '#FFFF00',
                '#DC143C',
                
                '#4169E1'

            ],
            
            borderWidth: 1
        }]
    },
 
});
</script>




    </div>
    <br />
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="text-align:center;"><b>Types of Sensors Present</b></span>
  </div>

</div>

<div style="float:right;padding-right:3cm;" >
  <div class="graph1 well" style="width:320px;height:320px;">
    <div class="col-md-12 "  style="margin-top: 15px">
<canvas id="myChart1" width="200" height="200"></canvas>
<script>
var ctx1 = document.getElementById("myChart1");
var myChart1 = new Chart(ctx1, {
    type: 'doughnut',
    data: {
        labels: [<% for(i in records2){ %>
                                   "<%- records2[i].sensor_active %>",
                                <%  } %>],
        datasets: [{
            label: 'Sensor Active Status',
            data: [<% for(i in records2){ %>
                                   "<%- records2[i].active %>",
                                <%  } %>],
            backgroundColor: [
            '#00aeef',
            
                
                
                
                '#4169E1'

            ],
            
            borderWidth: 1
        }]
    },
 
});
</script>




    </div>
    <br />
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="text-align:center;"><b>Sensor Active Status</b></span>
  </div>
<br /><br />
</div>

</div>

<div class="row">

<div class="col-md-4 col-md-offset-3" >
  <div class="graph1 well" style="width:320px;height:320px;">
    <div class="col-md-12 "  style="margin-top: 15px">
<canvas id="myChart2" width="200" height="200"></canvas>
<script>
var ctx2 = document.getElementById("myChart2");
var myChart2 = new Chart(ctx2, {
    type: 'pie',
    data: {
        labels: [<% for(i in records3){ %>
                                   "<%- records3[i].city %>",
                                <%  } %>],
        datasets: [{
            label: 'Types of Sensors',
            data: [<% for(i in records3){ %>
                                   "<%- records3[i].city_count %>",
                                <%  } %>],
            backgroundColor: [
                "#4682B4",
                "#2E8B57",
                  "#FF6347",
               "#C71585",
                "#00275e",
                "#feb729",
               
                "#000000"

            ],
            
            borderWidth: 1
        }]
    },
 
});
</script>




    </div>
    <br />
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="text-align:center;"><b>Number of sensors in cities</b></span>
  </div>

</div>



  </div>



<div class="row">
<div class="col-md-4 col-md-offset-3" >
  <div class="graph1 " style="width:420px;height:320px;">

  <div class="col-md-12" style="margin-top: 150px">


       <canvas id="myChart3" width="200" height="200"></canvas>
<script>
var ctx3 = document.getElementById("myChart3");
var myChart3 = new Chart(ctx3, {
    type: 'line',
    data: {
        labels: [<% for(i in records4){ %>
                                   "<%- records4[i].city %>",
                                <%  } %>],
        datasets: [{
            label: 'Minimum temperature last week',
            data: [<% for(i in records4){ %>
                                   "<%- records4[i].min %>",
                                <%  } %>],
            backgroundColor: [
                'rgba(255, 99, 132, 0.2)',
                'rgba(54, 162, 235, 0.2)',
                'rgba(255, 206, 86, 0.2)'
               
            ],
            borderColor: [
                'rgba(255,99,132,1)',
                'rgba(54, 162, 235, 1)',
                'rgba(255, 206, 86, 1)'
                
            ],
            borderWidth: 1
        }]
    },
    options: {
        scales: {
            yAxes: [{
                ticks: {
                    beginAtZero:true
                }
            }]
        }
    }
});
</script>


    </div>

</div>
</div>
<div style="float:right;padding-right:1cm;" >
<div class="col-md-4 col-md-offset-7">
  <div class="graph1" style="width:420px;height:320px;float:right;">

  <div class="col-md-12" style="margin-top: 150px">


       <canvas id="myChart4" width="200" height="200"></canvas>
<script>
var ctx4 = document.getElementById("myChart4");
var myChart4 = new Chart(ctx4, {
    type: 'line',
    data: {
        labels: [<% for(i in records4){ %>
                                   "<%- records4[i].city %>",
                                <%  } %>],
        datasets: [{
            label: 'Maximum temperature last week',
            data: [<% for(i in records4){ %>
                                   "<%- records4[i].max %>",
                                <%  } %>],
            backgroundColor: [
                '#aae2d5'
               
            ],
            borderColor: [
                'rgba(255,99,132,1)',
                'rgba(54, 162, 235, 1)',
                'rgba(255, 206, 86, 1)'
                
            ],
            borderWidth: 1
        }]
    },
    options: {
        scales: {
            yAxes: [{
                ticks: {
                    beginAtZero:true
                }
            }]
        }
    }
});
</script>


    </div>

</div>
</div>



</div>





</div>



</div>

<div class="row">

<div class="col-md-4 col-md-offset-7">
  <div class="graph1" style="width:820px;height:420px;float:right;">

  <div class="col-md-12" style="margin-top: 150px">


       <canvas id="myChart5" width="800" height="400"></canvas>
<script>
var ctx5 = document.getElementById("myChart5");
var myChart5 = new Chart(ctx5, {
    type: 'line',
    data: {
        labels: [<% for(i in records4){ %>
                                   "<%- records4[i].city %>",
                                <%  } %>],
        datasets: [{
            label: 'Average temperature last week',
            data: [<% for(i in records4){ %>
                                   "<%- records4[i].avg %>",
                                <%  } %>],
            backgroundColor: [
                '#aae2d5'
               
            ],
            borderColor: [
                'rgba(255,99,132,1)',
                'rgba(54, 162, 235, 1)',
                'rgba(255, 206, 86, 1)'
                
            ],
            borderWidth: 1
        }]
    },
    options: {
        scales: {
            yAxes: [{
                ticks: {
                    beginAtZero:true
                }
            }]
        }
    }
});
</script>


    </div>

</div>
</div>

</div>

  </body>
</html>